{% extends 'tickets/base.html' %}
{% load static %}

{% block content %}
<h1>Talep #{{ ticket.id }} - {{ ticket.title }}</h1>

<div class="card">
  <div class="card-body">
    <p><strong>Kullanıcı:</strong> {{ ticket.user }}</p>
    <p><strong>Kategori:</strong> {{ ticket.category.name if ticket.category else '—' }}</p>
    <p><strong>Durum:</strong> {{ ticket.get_status_display }}</p>
    <p><strong>Açıklama:</strong></p>
    <div class="border p-2">{{ ticket.description|linebreaks }}</div>
    <p class="mt-2"><strong>Oluşturulma:</strong> {{ ticket.created_at }}</p>
  </div>
</div>

<form method="post" class="mt-3">
  {% csrf_token %}
  <div class="btn-group" role="group">
    <button name="action" value="open" class="btn btn-outline-success">Açık</button>
    <button name="action" value="pending" class="btn btn-outline-warning">Beklemede</button>
    <button name="action" value="close" class="btn btn-outline-secondary">Kapat</button>
    <button name="action" value="wrong_section" class="btn btn-outline-danger">Yanlış Bölüm</button>
  </div>
  <button name="action" value="delete" class="btn btn-danger ms-2" onclick="return confirm('Bu talebi silmek istediğinize emin misiniz?')">Sil</button>
</form>

{% endblock %}
